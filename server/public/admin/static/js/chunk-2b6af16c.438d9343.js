(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2b6af16c"],{1051:function(t,e,n){"use strict";n("6ce6")},2873:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[n("h2",[t._v("轮播图")]),n("p",{staticStyle:{color:"#2c3034","font-size":"small"}},[t._v("轮播图展示的图片.")]),n("banner",{attrs:{banner:t.form.content.banner}}),n("el-button",{staticClass:"saveBtn",attrs:{type:"primary"},on:{click:t.handleSave}},[t._v("保存")]),n("el-divider"),n("h2",[t._v("推荐列表")]),n("p",{staticStyle:{color:"#2c3034","font-size":"small"}},[t._v("选择首页推荐的比赛列表.")]),n("recommend",{attrs:{content:t.form.content}}),n("div",{staticStyle:{height:"200px",width:"100%"}})],1)},a=[],r=(n("e9c4"),n("d690")),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-transfer",{attrs:{filterable:"","filter-method":t.filterMethod,"filter-placeholder":"搜索赛事名称",titles:["赛事列表","已经选择"],"button-texts":["到左边","到右边"],data:t.data},model:{value:t.content.recommend,callback:function(e){t.$set(t.content,"recommend",e)},expression:"content.recommend"}})},o=[],s=(n("d81d"),n("2906")),l={name:"Recommend",props:{content:Object},data:function(){return{data:[]}},created:function(){this.getData()},methods:{filterMethod:function(){return this.data},getData:function(){var t=this;Object(s["c"])().then((function(e){t.data=e.map((function(t){return{key:t.id,label:t.title}}))}))}}},u=l,d=(n("35d8"),n("2877")),f=Object(d["a"])(u,c,o,!1,null,"4b0e5b1e",null),m=f.exports,p=n("7561"),h={name:"Home",components:{Banner:r["a"],Recommend:m},data:function(){return{form:{id:1,page_name:"index",content:{banner:[{title:"标题",sub:"副标题",img:""}],recommend:[]}}}},computed:{BASE_API:function(){return""},RESOURCE_API:function(){return""}},created:function(){this.getHomePage()},methods:{handleSave:function(){var t=this,e=JSON.parse(JSON.stringify(this.form));e.content=JSON.stringify(e.content),Object(p["b"])(e).then((function(e){console.log(e),t.$message.success("保存成功"),t.getHomePage()})).catch((function(e){t.$message.error("保存失败")}))},getHomePage:function(){var t=this;Object(p["a"])("index").then((function(e){console.log(e),e.content=JSON.parse(e.content),t.form=e})).catch((function(e){console.log(e),t.$message.error("获取页面信息失败")}))}}},b=h,g=(n("1051"),Object(d["a"])(b,i,a,!1,null,"0f2da573",null));e["default"]=g.exports},2906:function(t,e,n){"use strict";n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return r})),n.d(e,"d",(function(){return c})),n.d(e,"b",(function(){return o}));var i=n("b775");function a(){return Object(i["a"])({url:"/competitions",method:"get"})}function r(t){return Object(i["a"])({url:"/competitions",method:"post",data:t})}function c(t){return Object(i["a"])({url:"/competitions/"+t.id,method:"put",data:t})}function o(t){return Object(i["a"])({url:"/competitions/"+t,method:"delete"})}},"35d8":function(t,e,n){"use strict";n("59a2")},"59a2":function(t,e,n){},"6ce6":function(t,e,n){},7561:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return r}));var i=n("b775");function a(t){return Object(i["a"])({url:"/contents/"+t,method:"get"})}function r(t){return Object(i["a"])({url:"/contents/"+t.id,method:"put",data:t})}},a434:function(t,e,n){"use strict";var i=n("23e7"),a=n("23cb"),r=n("a691"),c=n("50c4"),o=n("7b0b"),s=n("65f0"),l=n("8418"),u=n("1dde"),d=n("ae40"),f=u("splice"),m=d("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,h=Math.min,b=9007199254740991,g="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!f||!m},{splice:function(t,e){var n,i,u,d,f,m,v=o(this),S=c(v.length),_=a(t,S),O=arguments.length;if(0===O?n=i=0:1===O?(n=0,i=S-_):(n=O-2,i=h(p(r(e),0),S-_)),S+n-i>b)throw TypeError(g);for(u=s(v,i),d=0;d<i;d++)f=_+d,f in v&&l(u,d,v[f]);if(u.length=i,n<i){for(d=_;d<S-i;d++)f=d+i,m=d+n,f in v?v[m]=v[f]:delete v[m];for(d=S;d>S-i+n;d--)delete v[d-1]}else if(n>i)for(d=S-i;d>_;d--)f=d+i-1,m=d+n-1,f in v?v[m]=v[f]:delete v[m];for(d=0;d<n;d++)v[d+_]=arguments[d+2];return v.length=S-i+n,u}})},c4c2:function(t,e,n){"use strict";n("fa69")},d690:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{display:"flex","flex-wrap":"wrap","justify-content":"space-between","align-items":"center"}},[t._l(t.banner,(function(e,i){return n("banner-item",{key:i,attrs:{div:"",item:e},on:{delete:function(e){return t.deleteItem(i)}}})})),n("div",{staticStyle:{width:"655px","text-align":"center"}},[n("el-button",{staticStyle:{height:"100px",width:"100px","font-size":"50px"},attrs:{icon:"el-icon-plus",circle:"",type:"primary"},on:{click:t.addItem}})],1)],2)},a=[],r=(n("a434"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"box"},[n("el-image",{attrs:{src:t.RESOURCE_API+t.item.img,fit:"fill"},on:{click:function(e){t.isEdit=!t.isEdit}}}),n("div",{staticClass:"mask"},[n("h4",{staticClass:"title"},[t._v(t._s(t.item.title))]),n("p",{staticClass:"sub"},[t._v(t._s(t.item.sub))])]),n("div",{staticClass:"opration"},[n("span",{staticClass:"el-icon-edit",on:{click:function(e){t.isEdit=!t.isEdit}}}),n("span",{staticClass:"el-icon-delete",on:{click:function(e){return t.$emit("delete")}}})]),n("el-dialog",{attrs:{visible:t.isEdit,title:"编辑"},on:{"update:visible":function(e){t.isEdit=e}}},[n("el-form",{attrs:{"label-position":"left","label-width":"100px"},model:{value:t.item,callback:function(e){t.item=e},expression:"item"}},[n("el-form-item",{attrs:{label:"图片"}},[n("el-upload",{staticClass:"avatar-uploader",attrs:{action:t.BASE_API+"contents/upload_img",name:"img","show-file-list":!1,"on-success":t.handleAvatarSuccess,"before-upload":t.beforeAvatarUpload}},[t.item.img?n("img",{staticClass:"avatar",attrs:{src:t.RESOURCE_API+t.item.img}}):n("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),n("el-form-item",{attrs:{label:"标题"}},[n("el-input",{model:{value:t.item.title,callback:function(e){t.$set(t.item,"title",e)},expression:"item.title"}})],1),n("el-form-item",{attrs:{label:"副标题"}},[n("el-input",{model:{value:t.item.sub,callback:function(e){t.$set(t.item,"sub",e)},expression:"item.sub"}})],1)],1)],1)],1)}),c=[],o={name:"BannerItem",props:{item:Object},data:function(){return{isEdit:!1}},computed:{BASE_API:function(){return""},RESOURCE_API:function(){return""}},methods:{handleAvatarSuccess:function(t,e){this.item.img=t},beforeAvatarUpload:function(t){var e="image/jpeg"===t.type,n=t.size/1024/1024<2;return e||this.$message.error("上传头像图片只能是 JPG 格式!"),n||this.$message.error("上传头像图片大小不能超过 2MB!"),e&&n}}},s=o,l=(n("c4c2"),n("2877")),u=Object(l["a"])(s,r,c,!1,null,"3c45f54a",null),d=u.exports,f={name:"Banner",components:{BannerItem:d},props:{banner:Array},methods:{deleteItem:function(t){this.banner.splice(t,1)},addItem:function(){this.banner.push({title:"标题",sub:"副标题",img:""})}}},m=f,p=Object(l["a"])(m,i,a,!1,null,"40e60903",null);e["a"]=p.exports},e9c4:function(t,e,n){var i=n("23e7"),a=n("d066"),r=n("d039"),c=a("JSON","stringify"),o=/[\uD800-\uDFFF]/g,s=/^[\uD800-\uDBFF]$/,l=/^[\uDC00-\uDFFF]$/,u=function(t,e,n){var i=n.charAt(e-1),a=n.charAt(e+1);return s.test(t)&&!l.test(a)||l.test(t)&&!s.test(i)?"\\u"+t.charCodeAt(0).toString(16):t},d=r((function(){return'"\\udf06\\ud834"'!==c("\udf06\ud834")||'"\\udead"'!==c("\udead")}));c&&i({target:"JSON",stat:!0,forced:d},{stringify:function(t,e,n){var i=c.apply(null,arguments);return"string"==typeof i?i.replace(o,u):i}})},fa69:function(t,e,n){}}]);