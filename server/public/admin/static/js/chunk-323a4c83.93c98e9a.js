(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-323a4c83"],{"0f27":function(e,t,o){"use strict";o.d(t,"c",(function(){return n})),o.d(t,"a",(function(){return a})),o.d(t,"d",(function(){return r})),o.d(t,"b",(function(){return s}));var i=o("b775");function n(){return Object(i["a"])({url:"/competition_type",method:"get"})}function a(e){return Object(i["a"])({url:"/competition_type",method:"post",data:e})}function r(e){return Object(i["a"])({url:"/competition_type/"+e.id,method:"put",data:e})}function s(e){return Object(i["a"])({url:"/competition_type/"+e,method:"delete"})}},4066:function(e,t,o){"use strict";o("417e")},"417e":function(e,t,o){},6890:function(e,t,o){"use strict";o.r(t);var i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"app-container"},[o("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.handleAdd}},[e._v("添加 ")]),o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.list.filter((function(t){return!e.search||t.name.toLowerCase().includes(e.search.toLowerCase())}))}},[o("el-table-column",{attrs:{label:"id",prop:"id"}}),o("el-table-column",{attrs:{label:"类别名称",prop:"name"}}),o("el-table-column",{attrs:{label:"类别描述信息",prop:"desc"}}),o("el-table-column",{attrs:{align:"right"},scopedSlots:e._u([{key:"header",fn:function(t){return[o("el-input",{attrs:{size:"mini",placeholder:"输入关键字搜索[名称]"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})]}},{key:"default",fn:function(t){return[o("el-button",{attrs:{size:"mini"},on:{click:function(o){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑 ")]),o("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(o){return e.handleDelete(t.$index,t.row)}}},[e._v("删除 ")])]}}])})],1),o("el-dialog",{attrs:{title:e.isCreate?"新建类型":"编辑类型信息",visible:e.dialogFormVisible,width:"35%","before-close":e.beforeClose},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[o("el-form",{ref:"myForm",attrs:{model:e.form}},[o("el-form-item",{attrs:{label:"类型名称","label-width":e.formLabelWidth,prop:"name"}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),o("el-form-item",{attrs:{label:"类型描述","label-width":e.formLabelWidth,prop:"desc"}},[o("el-input",{attrs:{type:"textarea",autocomplete:"off"},model:{value:e.form.desc,callback:function(t){e.$set(e.form,"desc",t)},expression:"form.desc"}})],1)],1),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),o("el-button",{attrs:{type:"primary",loading:e.loading},on:{click:e.handleSave}},[e._v("保存")])],1)],1)],1)},n=[],a=(o("d3b7"),o("3ca3"),o("ddb0"),o("2b3d"),o("9861"),o("0f27")),r={name:"CompetitionType",data:function(){return{loading:!1,isCreate:!0,formLabelWidth:"120px",dialogFormVisible:!1,form:{name:"",desc:""},search:"",list:[]}},mounted:function(){this.getList()},methods:{beforeClose:function(){this.form={name:"",desc:""},this.dialogFormVisible=!1},handleSave:function(){var e=this;if(this.loading=!0,this.isCreate){var t=Object.assign({},this.form);delete t.id,Object(a["a"])(t).then((function(t){console.log(t),e.loading=!1,e.$message.success("保存成功."),e.dialogFormVisible=!1,e.getList()})).catch((function(t){e.loading=!1,console.log(t),e.$message.error("保存失败.")}))}else Object(a["d"])(this.form).then((function(t){console.log(t),e.loading=!1,e.$message.success("保存成功."),e.dialogFormVisible=!1,e.getList()})).catch((function(t){e.loading=!1,console.log(t),e.$message.error("保存失败.")}))},handleAdd:function(){this.isCreate=!0,this.dialogFormVisible=!0},handleEdit:function(e,t){this.isCreate=!1,this.form=Object.assign({},t),this.dialogFormVisible=!0},handleDelete:function(e,t){var o=this;Object(a["b"])(t.id).then((function(e){o.$message.success(e.message),console.log(e),o.getList()})).catch((function(e){console.log(e),o.$message.error("删除失败.")}))},getList:function(){var e=this;Object(a["c"])().then((function(t){e.list=t})).catch((function(t){console.log(t),e.$message.error("获取用户列表失败.")}))},handleAvatarSuccess:function(e,t){this.form.avatar=URL.createObjectURL(t.raw)},beforeAvatarUpload:function(e){var t="image/jpeg"===e.type,o=e.size/1024/1024<2;return t||this.$message.error("上传头像图片只能是 JPG 格式!"),o||this.$message.error("上传头像图片大小不能超过 2MB!"),t&&o}}},s=r,l=(o("4066"),o("2877")),c=Object(l["a"])(s,i,n,!1,null,"43b429d0",null);t["default"]=c.exports}}]);